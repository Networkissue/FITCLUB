<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css"
      rel="stylesheet"
    />

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <link rel="stylesheet" href="/staticfile/style.css" />

    <title>THE GYM BY JOHNSON | HYD</title>
  </head>
  <body>
    <nav>
      <div class="nav__logo">
        <a href="/"><img src="/assets/3d_gym.png" alt="logo" /></a>
      </div>
      <ul class="nav__links">
        <li class="link"><a href="#home-section" class="active">Home</a></li>
        <li class="link"><a href="#program-section">Program</a></li>
        <li class="link"><a href="#about-section">About</a></li>
        <li class="link"><a href="#service-section">Service</a></li>
        <li class="link"><a href="#community-section">Community</a></li>
      </ul>

      <button class="btn" id="joinNowBtn" style="color: white">
        <a href="/signin" style="color: white">Join Now</a>
      </button>
      
    </nav>

    <header class="section__container header__container" id="home-section">
      <div class="header__content">
        <span class="bg__blur"></span>
        <span class="bg__blur header__blur"></span>
        <h4>BEST FITNESS IN THE TOWN</h4>
        <h1><span>MAKE</span> YOUR BODY SHAPE</h1>
        <p>
          Unleash your potential and embark on a journey towards a stronger,
          fitter, and more confident you. Sign up for 'Make Your Body Shape' now
          and witness the incredible transformation your body is capable of!
        </p>
        <button class="btn" id="profile-button" style="display: none;">Go to profile</button> <br> <br>
        <button class="btn" id="users-btn" style="display: none;">users list</button>

        <!-- <button class="btn" id="profile-button" >Go to profile</button> <br> <br>
        <button class="btn" id="users-btn" >users list</button> -->
      </div>
      <!-- <div class="header__image">
        <img src="/assets/header.png" alt="header" />
      </div> -->
    </header>

    <section class="section__container explore__container" id="program-section">
      <div class="explore__header">
        <h2 class="section__header">EXPLORE OUR PROGRAM</h2>
      </div>
      <div class="explore__grid">
        <div class="explore__card">
          <span><i class="ri-boxing-fill"></i></span>
          <h4>Strength</h4>
          <p>
            Embrace the essence of strength as we delve into its various
            dimensions physical, mental, and emotional.
          </p>
          <!-- <a href="/diet">Click here <i class="ri-arrow-right-line"></i></a> -->
        </div>
        <div class="explore__card">
          <span><i class="ri-heart-pulse-fill"></i></span>
          <h4>Physical Fitness</h4>
          <p>
            It encompasses a range of activities that improve health, strength,
            flexibility, and overall well-being.
          </p>
          <!-- <a href="#">Join Now <i class="ri-arrow-right-line"></i></a> -->
        </div>
        <div class="explore__card">
          <span><i class="ri-run-line"></i></span>
          <h4>Fat Lose</h4>
          <p>
            Through a combination of workout routines and expert guidance, we'll
            empower you to reach your goals.
          </p>
          <!-- <a href="#">Join Now <i class="ri-arrow-right-line"></i></a> -->
        </div>
        <div class="explore__card">
          <span><i class="ri-shopping-basket-fill"></i></span>
          <h4>Weight Gain</h4>
          <p>
            Designed for individuals, our program offers an effective approach
            to gaining weight in a sustainable manner.
          </p>
          <!-- <a href="#">Join Now <i class="ri-arrow-right-line"></i></a> -->
        </div>
      </div>
    </section>

    <section class="section__container class__container">
      <div class="class__image" >
        <span class="bg__blur"></span>
        <img src="/assets/class-1.jpg" alt="class" class="class__img-1" />
        <img src="/assets/class-2.jpg" alt="class" class="class__img-2" />
      </div>
      <div class="class__content">
        <h2 class="section__header">THE CLASS YOU WILL GET HERE</h2>
        <p>
          Led by our team of expert and motivational instructors, "The Class You
          Will Get Here" is a high-energy, results-driven session that combines
          a perfect blend of cardio, strength training, and functional
          exercises. Each class is carefully curated to keep you engaged and
          challenged, ensuring you never hit a plateau in your fitness
          endeavors.
        </p>
        <button class="btn" style="display: none;">Book A Class</button>
      </div>
    </section>

    <section class="section__container join__container" id="about-section">
      <h2 class="section__header" >WHY JOIN US ?</h2>
      <p class="section__subheader">
        Our diverse membership base creates a friendly and supportive
        atmosphere, where you can make friends and stay motivated.
      </p>
      <div class="join__image">
        <img src="/assets/join.jpg" alt="Join" />
        <div class="join__grid">
          <div class="join__card">
            <span><i class="ri-user-star-fill"></i></span>
            <div class="join__card__content">
              <h4>Personal Trainer</h4>
              <p>Unlock your potential with our expert Personal Trainers.</p>
            </div>
          </div>
          <div class="join__card">
            <span><i class="ri-vidicon-fill"></i></span>
            <div class="join__card__content">
              <h4>Practice Sessions</h4>
              <p>Elevate your fitness with practice sessions.</p>
            </div>
          </div>
          <div class="join__card">
            <span><i class="ri-building-line"></i></span>
            <div class="join__card__content">
              <h4>Good Management</h4>
              <p>Supportive management, for your fitness success.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section__container price__container" id="service-section">
      <h2 class="section__header">OUR PRICING PLAN</h2>
      <p class="section__subheader">
        Our pricing plan comes with various membership tiers, each tailored to
        cater to different preferences and fitness aspirations.
      </p>
      <div class="price__grid">
        <div class="price__card">
          <div class="price__card__content">
            <h4>Basic Plan</h4>
            <h3>₹900</h3>
            <p><i class="ri-checkbox-circle-line"></i> Gym Access</p>
            <p><i class="ri-checkbox-circle-line"></i> Basic Equipment</p>
            <!-- <p><i class="ri-checkbox-circle-line"></i> Locker Room</p> -->
            <p><i class="ri-close-circle-line unavailable-feature"></i> Diet Consultation</p>
            <p><i class="ri-close-circle-line unavailable-feature"></i> Personal Training</p>
          </div>
          <a href="#">
            <button class="btn price__btn">Pay Now</button>
          </a>
        </div>

        <div class="price__card">
          <div class="price__card__content">
            <h4>Premium Plan</h4>
            <h3>₹1500</h3>
            <p><i class="ri-checkbox-circle-line"></i> Gym Access</p>
            <p><i class="ri-checkbox-circle-line"></i> All Equipment</p>
            <p><i class="ri-checkbox-circle-line unavailable-feature"></i> Diet Consultation</p>
             <!-- <p><i class="ri-checkbox-circle-line"></i> Group Classes</p> -->
            <p><i class="ri-close-circle-line unavailable-feature"></i> Personal Training</p>
          </div>
          <a href="#">
            <button class="btn price__btn">Pay Now</button>
          </a>
        </div>

        <div class="price__card">
          <div class="price__card__content">
            <h4>Pro Plan</h4>
            <h3>₹3500</h3>
            <p><i class="ri-checkbox-circle-line"></i> Gym Access</p>
            <p><i class="ri-checkbox-circle-line"></i> Basic Equipment</p>
            <p><i class="ri-checkbox-circle-line"></i> Unlimited Personal Training</p>
            <p><i class="ri-checkbox-circle-line"></i> Diet & Nutrition Plan</p>
            <p><i class="ri-checkbox-circle-line"></i> Priority Support</p>
            <p><i class="ri-checkbox-circle-line"></i>  CrossFit & HIIT Training</p>
            <p><i class="ri-checkbox-circle-line"></i> Personal Training</p>
          </div>
          <a href="#">
            <button class="btn price__btn">Pay Now</button>
          </a>
        </div>
      </div>
    </section>


    <footer class="section__container footer__container" id="community-section">
      <span class="bg__blur"></span>
      <span class="bg__blur footer__blur"></span>
      <div class="footer__col">
        <a href="#home-section" class="footer__logo">
          <img src="/assets/3d_gym.png" alt="logo" />
        </a>
        

        <p>
          Take the first step towards a healthier, stronger you with our
          unbeatable pricing plans. Let's sweat, achieve, and conquer together!
        </p>

        <div class="footer__socials">
          <a href="https://www.facebook.com/dm.johnson.35"><i class="ri-facebook-fill"></i></a>
          <a href="https://www.instagram.com/actor__johnson?igsh=aHY5aWl6MzFvcXY5"><i class="ri-instagram-line"></i></a>
          <a href="https://x.com/johnson_hyd"><i class="ri-twitter-fill"></i></a>
          <a href="https://www.google.com/maps/place/The+Gym+by+Johnson/@17.463635,78.4494786,907m/data=!3m2!1e3!4b1!4m6!3m5!1s0x3bcb90f2d690f523:0x1272964efd34d42!8m2!3d17.4636299!4d78.4520535!16s%2Fg%2F11g7zwv4vh?entry=ttu&g_ep=EgoyMDI1MDUyOC4wIKXMDSoASAFQAw%3D%3D"><i class="ri-map-pin-line"></i></a>
        </div>
      </div>
       <div class="footer__col"> 
        <h4>Contact with us</h4>
        <a href="tel:+918008984440"><i class="ri-phone-fill"></i> +91 8008984440</a>
        <a href="mailto:johnson.hyd@gmail.com"><i class="ri-mail-fill"></i>johnson.hyd@gmail.com</a>  
      </div>
      
    </footer>
    <div class="footer__bar">
      Copyright © 2020 the gym by johnson. All rights reserved.
    </div>
   
       <script ></script>
  </body>
</html>


<script src="https://checkout.razorpay.com/v1/checkout.js"></script>


<script type="module">
  (async () => {  
      window.addEventListener('load', () => {
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js')
          .then(reg => console.log('SW registered:', reg))
          .catch(err => console.error('SW registration failed:', err));
      }
    });

    document.addEventListener("DOMContentLoaded", () => {
      const priceButtons = document.querySelectorAll(".price__btn");
      const profileBtn = document.getElementById("profile-button");
      const userslistBtn = document.getElementById("users-btn");

      const userEmail = sessionStorage.getItem('Email');
      const userRole = sessionStorage.getItem('Role');

      // Show buttons based on session
      if (userEmail && userRole) {
        if (profileBtn) profileBtn.style.display = 'inline-block';
        if (userslistBtn) {
          userslistBtn.style.display = userRole === 'admin' ? 'inline-block' : 'none';
        }

        // Click listeners
        profileBtn?.addEventListener("click", async () => {
          try {
            const response = await fetch('/verify-token', { credentials: 'include' });
            if (response.ok) {
              window.location.href = '/pro';
            } else {
              alert('Please sign in to access your profile.');
            }
          } catch (error) {
            console.error('Error verifying token:', error);
            alert('Something went wrong. Try again later.');
          }
        });

        userslistBtn?.addEventListener('click', () => {
          window.location.href = '/users';
        });
      }

      // 🔸 Razorpay logic
      function getAmountFromText(button) {
        const priceText = button.closest(".price__card").querySelector("h3").textContent;
        return priceText.replace(/[^\d]/g, ""); // Extract only numbers
      }


      priceButtons.forEach(btn => {
        btn.addEventListener("click", async () => {
          const card = btn.closest(".price__card");
          const amount = card.querySelector("h3").textContent.replace(/[^\d]/g, "");
          const plan = card.querySelector("h4").textContent.trim();  // Extracts "Basic Plan", "Premium Plan", etc.

          sessionStorage.setItem("selectedAmount", amount);
          sessionStorage.setItem("selectedPlan", plan);

          // Verify token before proceeding
          const authRes = await fetch("/verify-token", { credentials: 'include' });
          if (!authRes.ok || authRes.status === 401) {
            window.location.href = "/signin";
            return;
          }

          // Redirect with amount and plan in URL
          const encodedPlan = encodeURIComponent(plan);  // handle spaces safely
          window.location.href = `/select-payment-method?amount=${amount}&plan=${encodedPlan}`;
        });
      });



      // priceButtons.forEach(btn => {
      //   btn.addEventListener("click", async () => {
      //     try {
      //       const authRes = await fetch("/verify-token", { credentials: 'include' });

      //       if (!authRes.ok || authRes.status === 401) {
      //         window.location.href = "/signin";
      //         return;
      //       }

      //       const amount = btn.getAttribute("data-amount");
      //       const orderRes = await fetch("/create-order", {
      //         method: "POST",
      //         headers: { "Content-Type": "application/json" },
      //         credentials: "include",
      //         body: JSON.stringify({ amount: parseInt(amount) })
      //       });

      //       const orderData = await orderRes.json();
      //       if (!orderData?.order_id) {
      //         alert("Failed to create payment order.");
      //         return;
      //       }

      //       const options = {
      //         key: "RAZORPAY_PUBLIC_KEY", 
      //         amount: orderData.amount,
      //         currency: "INR",
      //         name: "My Gym",
      //         description: "Membership Plan",
      //         order_id: orderData.order_id,
      //         handler: async function (response) {
      //           const verifyRes = await fetch("/verify-payment", {
      //             method: "POST",
      //             headers: { "Content-Type": "application/json" },
      //             credentials: "include",
      //             body: JSON.stringify({
      //               razorpay_payment_id: response.razorpay_payment_id,
      //               razorpay_order_id: response.razorpay_order_id,
      //               razorpay_signature: response.razorpay_signature,
      //               amount: parseInt(amount)
      //             })
      //           });

      //           const result = await verifyRes.json();
      //           if (verifyRes.status === 200) {
      //             alert("Payment successful!");
      //             location.reload();
      //           } else {
      //             alert("Payment failed: " + result.detail);
      //           }
      //         },
      //         theme: { color: "#f0860d" }
      //       };

      //       new Razorpay(options).open();

      //     } catch (err) {
      //       console.error("Payment error:", err);
      //       alert("Something went wrong during payment.");
      //     }
      //   });
      // });

      // Other buttons
      document.getElementById('joinNowBtn')?.addEventListener('click', () => {
        window.location.href = '/signin';
      });

      document.getElementById('joinbtn16')?.addEventListener('click', () => {
        window.location.href = '/template/paytm.html';
      });

      document.getElementById('joinbtn25')?.addEventListener('click', () => {
        window.location.href = '/template/paytm.html';
      });

      document.getElementById('joinbtn45')?.addEventListener('click', () => {
        window.location.href = '/template/paytm.html';
      });

      // 🔸 Review Auto Scroll
      const reviews = document.querySelectorAll('.review__content');
      const nextBtn = document.getElementById('nextReview');
      const prevBtn = document.getElementById('prevReview');
      let currentIndex = 0;
      let autoScrollInterval;

      function showReview(index) {
        reviews.forEach((review, i) => {
          review.classList.toggle('active', i === index);
        });
      }

      function startAutoScroll() {
        autoScrollInterval = setInterval(() => {
          currentIndex = (currentIndex + 1) % reviews.length;
          showReview(currentIndex);
        }, 1300);
      }

      function resetAutoScroll() {
        clearInterval(autoScrollInterval);
        startAutoScroll();
      }

      if (nextBtn && prevBtn) {
        nextBtn.addEventListener('click', () => {
          currentIndex = (currentIndex + 1) % reviews.length;
          showReview(currentIndex);
          resetAutoScroll();
        });

        prevBtn.addEventListener('click', () => {
          currentIndex = (currentIndex - 1 + reviews.length) % reviews.length;
          showReview(currentIndex);
          resetAutoScroll();
        });

        showReview(currentIndex);
        startAutoScroll();
      }

    });

  })(); // End of IIFE
  
</script>
