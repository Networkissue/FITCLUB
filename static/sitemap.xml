from datetime import datetime

urls = [
    {"loc": "https://www.thegymbyjohnson.com/", "priority": "1.0", "changefreq": "daily"},
    {"loc": "https://www.thegymbyjohnson.com/signin", "priority": "0.8", "changefreq": "daily"},
    {"loc": "https://www.thegymbyjohnson.com/forgot-password", "priority": "0.9", "changefreq": "weekly"},
    {"loc": "https://www.thegymbyjohnson.com/users", "priority": "0.7", "changefreq": "weekly"},
    {"loc": "https://www.thegymbyjohnson.com/offline-requests", "priority": "0.6", "changefreq": "weekly"},
    {"loc": "https://www.thegymbyjohnson.com/pro", "priority": "0.6", "changefreq": "weekly"},
]

today = datetime.utcnow().strftime("%Y-%m-%d")

xml_content = '<?xml version="1.0" encoding="UTF-8"?>\n'
xml_content += '<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">\n'

for url in urls:
    xml_content += "  <url>\n"
    xml_content += f"    <loc>{url['loc']}</loc>\n"
    xml_content += f"    <lastmod>{today}</lastmod>\n"
    xml_content += f"    <changefreq>{url['changefreq']}</changefreq>\n"
    xml_content += f"    <priority>{url['priority']}</priority>\n"
    xml_content += "  </url>\n"

xml_content += "</urlset>"

# Save sitemap.xml inside static/
with open("static/sitemap.xml", "w", encoding="utf-8") as f:
    f.write(xml_content)
